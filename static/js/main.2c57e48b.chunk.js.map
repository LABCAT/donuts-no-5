{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","js/functions/ColourCalculators.js","js/classes/Donut.js","audio/donuts-no-5.ogg","audio/donuts-no-5.mid","js/P5SketchWithAudio.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","id","className","xmlns","height","viewBox","width","d","fill","TetradicColourCalculator","hue","saturation","brightness","set","i","colour","color","push","TriadicColourCalculator","ComplementaryColourCalculator","Donut","hueOrColour","shape","this","p","isObject","numOfRotations","size","variable","Array","isArray","speed","translate","stroke","strokeWeight","noFill","j","rotate","PI","P5SketchWithAudio","sketchRef","useRef","Sketch","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","player","PPQ","seedMode","loadMidi","Midi","fromUrl","midi","then","result","noteSet1","tracks","notes","scheduleCueSet","document","getElementById","classList","add","remove","preload","song","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","lastTicks","currentCue","length","note","ticks","time","addCue","shapeOptions","colourModes","hueOptions","donuts","donutIndex","loopIndex","currentShape","currentColourScheme","donutShapeSet","donutColourModeSet","donutColourSchemeSets","donutHueSet","outroHues","generatePermutations","array","pemutation","temp","x","splice","concat","setup","createCanvas","colorMode","HSB","rectMode","CENTER","background","randomSeed","fxrand","Math","floor","random","generateColourScheme","draw","isPlaying","donut","Object","keys","update","executeCueSet1","includes","mode","colourMode","colourScheme","hueSet","equilateral","y","x1","y1","x2","y2","x3","y3","triangle","pentagon","radius","angleMode","RADIANS","angle","TWO_PI","beginShape","a","sx","cos","sy","sin","vertex","endShape","CLOSE","hexagon","octagon","hasStarted","mousePressed","pause","parseInt","currentTime","buffer","duration","reset","dataLayer","title","location","href","addClass","play","creditsLogged","console","log","stop","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2c57e48b.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" className='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","function TetradicColourCalculator(p5, hue, saturation = 100, brightness = 100) {\n    let set = [];\n    let i = 0;\n    while(i < 4){\n        hue = hue + i * 90;\n        hue = hue < 360 ? hue : hue - 360;\n        const colour = p5.color(\n          hue,\n          saturation,\n          brightness,\n          1\n        );\n        set.push(colour);\n        i++;\n    }\n\n\n  return set;\n}\n\nfunction TriadicColourCalculator(p5, hue, saturation = 100, brightness = 100) {\n    let set = [];\n    let i = 0;\n    while(i < 3){\n        const colour = p5.color(\n          hue,\n          saturation,\n          brightness,\n          1\n        );\n        set.push(colour);\n        hue = hue + 120 < 360 ? hue + 120 : hue - 240;\n        i++;\n    }\n\n\n  return set;\n}\n\nfunction ComplementaryColourCalculator(p5, hue, saturation = 100, brightness = 100) {\n    let set = [];\n    let i = 0;\n    while(i < 2){\n        hue = hue + i * 180;\n        hue = hue < 360 ? hue : hue - 360;\n        const colour = p5.color(\n          hue,\n          saturation,\n          brightness,\n          1\n        );\n        set.push(colour);\n        i++;\n    }\n\n\n  return set;\n}\n\nexport { TetradicColourCalculator, TriadicColourCalculator, ComplementaryColourCalculator };","export default class Donut {\n    constructor(p5, hueOrColour, shape) {\n        this.p = p5;\n        this.colour = this.isObject(hueOrColour) ? hueOrColour : this.p.color(hueOrColour, 100, 100);\n        this.shape = shape;\n        this.numOfRotations = 24;\n        this.size = 0;\n    }\n\n    isObject(variable) {\n        return typeof variable === 'object' &&\n            variable !== null &&\n            !Array.isArray(variable);\n    }    \n\n    update() {\n        const speed = (this.p.width + this.p.height) / (this.shape === 'ellipse' ? 200 : 500);\n        this.size = this.size + speed;\n        this.hue = this.hue > 360 ? 0 : this.hue++;\n    }\n\n    draw() {\n        this.p.translate(this.p.width / 2, this.p.height / 2); \n        this.p.stroke(this.colour);\n        this.p.strokeWeight(0.02);\n        this.p.noFill();\n        for (var i = 0; i < (this.numOfRotations * 2); i ++) {\n            for (var j = 0; j <=5; j++) {\n                //call the function as detemined by the variable shape\n                //rect and ellipse are built in p5.js\n                //tri,hexa & octa are defined in this file\n                this.p[this.shape](0, 20, this.size + j, this.size + j);\n            }\n            this.p.rotate(this.p.PI/this.numOfRotations);\n        }\n        this.p.translate(-this.p.width / 2, -this.p.height / 2);\n    }\n}","export default __webpack_public_path__ + \"static/media/donuts-no-5.c4585e6d.ogg\";","export default __webpack_public_path__ + \"static/media/donuts-no-5.d2747f51.mid\";","import React, { useRef, useEffect } from \"react\";\nimport \"./helpers/Globals\";\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport { Midi } from '@tonejs/midi'\nimport PlayIcon from './functions/PlayIcon.js';\nimport SaveJSONToFile from './functions/SaveJSONToFile.js';\nimport { TetradicColourCalculator, TriadicColourCalculator, ComplementaryColourCalculator } from './functions/ColourCalculators';\nimport Donut from './classes/Donut.js';\n\nimport audio from \"../audio/donuts-no-5.ogg\";\nimport midi from \"../audio/donuts-no-5.mid\";\n\nconst P5SketchWithAudio = () => {\n    const sketchRef = useRef();\n\n    const Sketch = p => {\n\n        p.canvas = null;\n\n        p.canvasWidth = window.innerWidth;\n\n        p.canvasHeight = window.innerHeight;\n\n        p.audioLoaded = false;\n\n        p.player = null;\n\n        p.PPQ = 3840 * 4;\n\n        p.seedMode = true;\n\n        p.loadMidi = () => {\n            Midi.fromUrl(midi).then(\n                function(result) {\n                    const noteSet1 = result.tracks[1].notes; \n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\n                    p.audioLoaded = true;\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\n                    document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\n                }\n            );\n            \n        }\n\n        p.preload = () => {\n            p.song = p.loadSound(audio, p.loadMidi);\n            p.song.onended(p.logCredits);\n        }\n\n        p.scheduleCueSet = (noteSet, callbackName, poly = false)  => {\n            let lastTicks = -1,\n                currentCue = 1;\n            for (let i = 0; i < noteSet.length; i++) {\n                const note = noteSet[i],\n                    { ticks, time } = note;\n                if(ticks !== lastTicks || poly){\n                    note.currentCue = currentCue;\n                    p.song.addCue(time, p[callbackName], note);\n                    lastTicks = ticks;\n                    currentCue++;\n                }\n            }\n        } \n\n        p.shapeOptions = ['ellipse', 'equilateral', 'rect', 'pentagon', 'hexagon', 'octagon'];\n\n        p.colourModes = ['random', 'rainbow', 'complementary', 'triadic', 'tetradic'];\n\n        p.hueOptions = [60, 120, 180, 240, 300, 360];\n\n        p.donuts = [];\n\n        p.donutIndex = 0;\n\n        p.loopIndex = 0;\n\n        p.currentShape = null;\n\n        p.currentColourScheme = [];\n\n        p.donutShapeSet = [];\n\n        p.donutColourModeSet = [];\n\n        p.donutColourSchemeSets = [];\n        \n        p.donutHueSet = [];\n\n        p.outroHues = [];\n\n        p.generatePermutations = (array) => {\n            const pemutation = (array, temp) => {\n                var i, x;\n                if (!array.length) {\n                    result.push(temp);\n                }\n                for (i = 0; i < array.length; i++) {\n                    x = array.splice(i, 1)[0];\n                    pemutation(array, temp.concat(x));\n                    array.splice(i, 0, x);\n                }\n            }\n\n            var result = [];\n            pemutation(array, []);\n            return result;\n        }\n\n        p.setup = () => {\n            p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight);\n            p.colorMode(p.HSB);\n            p.rectMode(p.CENTER);\n            \n            for (let i = 0; i < 40; i++) {\n                p.donuts[i] = {};\n            }\n            p.background(0, 0, 0);\n            if(p.seedMode) {\n                p.randomSeed(window.fxrand() * 1000);\n                p.donutShapeSet = p.generatePermutations(p.shapeOptions)[Math.floor(p.random(0, 720))];\n                p.donutHueSet = p.generatePermutations(p.hueOptions)[Math.floor(p.random(0, 720))];\n                p.donutColourModeSet = p.generatePermutations(p.colourModes)[Math.floor(p.random(0, 120))];  \n            }\n            else {\n                for (let i = 0; i < 6; i++) {\n                    p.donutShapeSet[i] = p.random(p.shapeOptions);\n                    p.donutHueSet[i] = p.random(p.hueOptions);\n                    p.donutColourModeSet[i] = p.random(p.colourModes);\n                }\n            }\n            for (let i = 0; i < 5; i++) {\n                    p.donutColourSchemeSets[i] = p.generateColourScheme(p.donutColourModeSet[i]);\n                } \n            for (let i = 0; i < 32; i++) {\n                p.outroHues[i] = p.random(0, p.donutHueSet[i % 6]);\n            }\n            p.currentShape = p.donutShapeSet[p.loopIndex];\n            p.currentColourScheme = p.donutColourSchemeSets[p.loopIndex];\n            p.loopIndex++\n        }\n\n\n\n        p.draw = () => {\n            if(p.audioLoaded && p.song.isPlaying()){\n                p.background(0, 0, 0, 0.05);\n                for (let i = 0; i < p.donuts.length; i++) {\n                    const donut = p.donuts[i];\n                    if(Object.keys(donut).length) {\n                        donut.update();\n                        donut.draw();\n                    }\n                }\n            }\n        }\n\n        p.executeCueSet1 = (note) => {\n            const { currentCue } = note;\n            if([1, 9, 17, 25, 29].includes(currentCue % 32) || currentCue > 160) {\n                if(p.donutIndex > 4){\n                    if(currentCue <= 160) {\n                        p.donutIndex = 0;\n                        for (let i = 0; i < 5; i++) {\n                            p.donuts[i] = {};\n                        }\n                        p.currentShape = p.donutShapeSet[p.loopIndex];\n                        p.currentColourScheme = p.donutColourSchemeSets[p.loopIndex];\n                        p.loopIndex++\n                    } else if (currentCue === 161) {\n                        p.currentShape = p.donutShapeSet[p.loopIndex];\n                    }\n                }\n                const colour = currentCue > 160 ? p.outroHues[currentCue - 161] : p.currentColourScheme[p.donutIndex];\n                p.donuts[p.donutIndex] = new Donut(p, colour, p.currentShape);\n                p.donutIndex++;\n            }\n        }\n\n        p.generateColourScheme = (mode = false) => {\n            const colourMode = mode ? mode : p.random(['random', 'rainbow', 'complementary', 'triadic', 'tetradic']),\n                colourScheme = [];\n            let hueSet = [];\n            \n            switch (colourMode) {\n                case 'complementary':\n                    hueSet = ComplementaryColourCalculator(p, p.random(0, p.donutHueSet[1]));\n                    break;\n                case 'triadic':\n                    hueSet = TriadicColourCalculator(p, p.random(0, p.donutHueSet[3]));\n                    break;\n                case 'tetradic':\n                    hueSet = TetradicColourCalculator(p, p.random(0, p.donutHueSet[5]));\n                    break;\n                case 'rainbow':\n                    let hue = p.random(0, p.donutHueSet[0]);\n                    for (let i = 0; i < 5; i++) {\n                        hueSet.push(hue);\n                        hue = hue + 30 > 360 ? hue - 330 : hue + 30;\n                    }\n                    break;\n                default:\n                    for (let i = 5; i > 1; i--) {\n                        hueSet.push(p.random(0, p.donutHueSet[i]));\n                    }\n                    break;\n            }\n\n            for (let i = 0; i < 5; i++) {\n                colourScheme[i] = hueSet[i % hueSet.length];\n            }\n            return colourScheme;\n        }\n\n        /*\n        * function to draw an equilateral triangle with a set width\n        * based on x, y co-oridinates that are the center of the triangle\n        * @param {Number} x        - x-coordinate that is at the center of triangle\n        * @param {Number} y      \t- y-coordinate that is at the center of triangle\n        * @param {Number} width    - radius of the hexagon\n        */\n        p.equilateral = (x, y, width) => {\n            var x1 = x - (width/2);\n            var y1 = y + (width/2);\n            var x2 = x;\n            var y2 = y - (width/2);\n            var x3 = x + (width/2);\n            var y3 = y + (width/2);\n            p.triangle(x1,y1,x2,y2,x3,y3);\n        }\n\n        /*\n        * function to draw a pentagon shape\n        * adapted from: https://p5js.org/examples/form-regular-polygon.html\n        * @param {Number} x        - x-coordinate of the pentagon\n        * @param {Number} y      - y-coordinate of the pentagon\n        * @param {Number} radius   - radius of the pentagon\n        */\n        p.pentagon = (x, y, radius) => {\n            radius = radius / 2;\n            p.angleMode(p.RADIANS);\n            var angle = p.TWO_PI / 5;\n            p.beginShape();\n            for (var a = p.TWO_PI/10; a < p.TWO_PI + p.TWO_PI/10; a += angle) {\n                var sx = x + p.cos(a) * radius;\n                var sy = y + p.sin(a) * radius;\n                p.vertex(sx, sy);\n            }\n            p.endShape(p.CLOSE);\n        }\n\n        /*\n        * function to draw a hexagon shape\n        * adapted from: https://p5js.org/examples/form-regular-polygon.html\n        * @param {Number} x        - x-coordinate of the hexagon\n        * @param {Number} y      - y-coordinate of the hexagon\n        * @param {Number} radius   - radius of the hexagon\n        */\n        p.hexagon = (x, y, radius) => {\n            radius = radius / 2;\n            p.angleMode(p.RADIANS);\n            var angle = p.TWO_PI / 6;\n            p.beginShape();\n            for (var a = p.TWO_PI/12; a < p.TWO_PI + p.TWO_PI/12; a += angle) {\n                var sx = x + p.cos(a) * radius;\n                var sy = y + p.sin(a) * radius;\n                p.vertex(sx, sy);\n            }\n            p.endShape(p.CLOSE);\n        }\n\n        /*\n        * function to draw a octagon shape\n        * adapted from: https://p5js.org/examples/form-regular-polygon.html\n        * @param {Number} x        - x-coordinate of the octagon\n        * @param {Number} y      - y-coordinate of the octagon\n        * @param {Number} radius   - radius of the octagon\n        */\n        p.octagon = (x, y, radius) => {\n            radius = radius / 2;\n            p.angleMode(p.RADIANS);\n            var angle = p.TWO_PI / 8;\n            p.beginShape();\n            for (var a = p.TWO_PI/16; a < p.TWO_PI + p.TWO_PI/16; a += angle) {\n                var sx = x + p.cos(a) * radius;\n                var sy = y + p.sin(a) * radius;\n                p.vertex(sx, sy);\n            }\n            p.endShape(p.CLOSE);\n        }\n\n        p.hasStarted = false;\n\n        p.mousePressed = () => {\n            if(p.audioLoaded){\n                if (p.song.isPlaying()) {\n                    p.song.pause();\n                } else {\n                    if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\n                        p.reset();\n                        window.dataLayer.push(\n                            { \n                                'event': 'play-animation',\n                                'animation': {\n                                    'title': document.title,\n                                    'location': window.location.href,\n                                    'action': 'replaying'\n                                }\n                            }\n                        );\n                    }\n                    document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                    p.canvas.addClass(\"fade-in\");\n                    p.song.play();\n                    if (typeof window.dataLayer !== typeof undefined && !p.hasStarted){\n                        window.dataLayer.push(\n                            { \n                                'event': 'play-animation',\n                                'animation': {\n                                    'title': document.title,\n                                    'location': window.location.href,\n                                    'action': 'start playing'\n                                }\n                            }\n                        );\n                        p.hasStarted = false\n                    }\n                }\n            }\n        }\n\n        p.creditsLogged = false;\n\n        p.logCredits = () => {\n            if (\n                !p.creditsLogged &&\n                parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)\n            ) {\n                p.creditsLogged = true;\n                    console.log(\n                    \"Music By: http://labcat.nz/\",\n                    \"\\n\",\n                    \"Animation By: https://github.com/LABCAT/\"\n                );\n                p.song.stop();\n            }\n        };\n\n        p.reset = () => {\n            p.donutIndex = 0;\n            p.loopIndex = 0;\n            for (let i = 0; i < 40; i++) {\n                p.donuts[i] = {};\n            }\n            p.background(0, 0, 0);\n            p.currentShape = p.donutShapeSet[p.loopIndex];\n            p.currentColourScheme = p.donutColourSchemeSets[p.loopIndex];\n            \n            for (let i = 0; i < 5; i++) {\n                p.donuts[i] = {};\n            }\n            p.donuts[p.donutIndex] = new Donut(p, p.currentColourScheme[p.donutIndex], p.currentShape);\n            p.donutIndex++;\n            p.loopIndex++\n        }\n\n        p.updateCanvasDimensions = () => {\n            p.canvasWidth = window.innerWidth;\n            p.canvasHeight = window.innerHeight;\n            p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch, sketchRef.current);\n    }, []);\n\n    return (\n        <div ref={sketchRef}>\n            <PlayIcon />\n        </div>\n    );\n};\n\nexport default P5SketchWithAudio;\n","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}