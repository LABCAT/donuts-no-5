(this["webpackJsonpdonuts-no-5"]=this["webpackJsonpdonuts-no-5"]||[]).push([[0],{17:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(9),i=n.n(r),d=(n(17),n(0)),s=n(2);window.p5=s;n(20);var u=n(10);function c(){return Object(d.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(d.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(d.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}function h(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=[],r=0;r<4;){t=(t+=90*r)<360?t:t-360;var i=e.color(t,n,o,1);a.push(i),r++}return a}function l(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=[],r=0;r<3;){var i=e.color(t,n,o,1);a.push(i),t=t+120<360?t+120:t-240,r++}return a}function p(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=[],r=0;r<2;){t=(t+=180*r)<360?t:t-360;var i=e.color(t,n,o,1);a.push(i),r++}return a}var f=n(11),v=n(12),g=function(){function e(t,n,o){Object(f.a)(this,e),this.p=t,this.colour=this.isObject(n)?n:this.p.color(n,100,100),this.shape=o,this.numOfRotations=24,this.size=0}return Object(v.a)(e,[{key:"isObject",value:function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}},{key:"update",value:function(){var e=(this.p.width+this.p.height)/("ellipse"===this.shape?200:500);this.size=this.size+e,this.hue=this.hue>360?0:this.hue++}},{key:"draw",value:function(){this.p.translate(this.p.width/2,this.p.height/2),this.p.stroke(this.colour),this.p.strokeWeight(.02),this.p.noFill();for(var e=0;e<2*this.numOfRotations;e++){for(var t=0;t<=5;t++)this.p[this.shape](0,20,this.size+t,this.size+t);this.p.rotate(this.p.PI/this.numOfRotations)}this.p.translate(-this.p.width/2,-this.p.height/2)}}]),e}(),S=n.p+"static/media/donuts-no-5.c4585e6d.ogg",m=n.p+"static/media/donuts-no-5.d2747f51.mid",w=function(){var e=Object(o.useRef)(),t=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.seedMode=!1,e.loadMidi=function(){u.Midi.fromUrl(m).then((function(t){var n=t.tracks[1].notes;e.scheduleCueSet(n,"executeCueSet1"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=function(){e.song=e.loadSound(S,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,n){for(var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=-1,r=1,i=0;i<t.length;i++){var d=t[i],s=d.ticks,u=d.time;(s!==a||o)&&(d.currentCue=r,e.song.addCue(u,e[n],d),a=s,r++)}},e.shapeOptions=["ellipse","equilateral","rect","pentagon","hexagon","octagon"],e.colourModes=["random","rainbow","complementary","triadic","tetradic"],e.hueOptions=[60,120,180,240,300,360],e.donuts=[],e.donutIndex=0,e.loopIndex=0,e.currentShape=null,e.currentColourScheme=[],e.donutShapeSet=[],e.donutColourModeSet=[],e.donutColourSchemeSets=[],e.donutHueSet=[],e.outroHues=[],e.generatePermutations=function(e){var t=[];return function e(n,o){var a,r;for(n.length||t.push(o),a=0;a<n.length;a++)r=n.splice(a,1)[0],e(n,o.concat(r)),n.splice(a,0,r)}(e,[]),t},e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.colorMode(e.HSB),e.rectMode(e.CENTER);for(var t=0;t<40;t++)e.donuts[t]={};if(e.background(0,0,0),e.seedMode)e.randomSeed(1e3*window.fxrand()),e.donutShapeSet=e.generatePermutations(e.shapeOptions)[Math.floor(e.random(0,720))],e.donutHueSet=e.generatePermutations(e.hueOptions)[Math.floor(e.random(0,720))],e.donutColourModeSet=e.generatePermutations(e.colourModes)[Math.floor(e.random(0,120))];else for(var n=0;n<6;n++)e.donutShapeSet[n]=e.random(e.shapeOptions),e.donutHueSet[n]=e.random(e.hueOptions),e.donutColourModeSet[n]=e.random(e.colourModes);for(var o=0;o<5;o++)e.donutColourSchemeSets[o]=e.generateColourScheme(e.donutColourModeSet[o]);for(var a=0;a<32;a++)e.outroHues[a]=e.random(0,e.donutHueSet[a%6]);e.currentShape=e.donutShapeSet[e.loopIndex],e.currentColourScheme=e.donutColourSchemeSets[e.loopIndex],e.loopIndex++},e.draw=function(){if(e.audioLoaded&&e.song.isPlaying()){e.background(0,0,0,.05);for(var t=0;t<e.donuts.length;t++){var n=e.donuts[t];Object.keys(n).length&&(n.update(),n.draw())}}},e.executeCueSet1=function(t){var n=t.currentCue;if([1,9,17,25,29].includes(n%32)||n>160){if(e.donutIndex>4)if(n<=160){e.donutIndex=0;for(var o=0;o<5;o++)e.donuts[o]={};e.currentShape=e.donutShapeSet[e.loopIndex],e.currentColourScheme=e.donutColourSchemeSets[e.loopIndex],e.loopIndex++}else 161===n&&(e.currentShape=e.donutShapeSet[e.loopIndex]);var a=n>160?e.outroHues[n-161]:e.currentColourScheme[e.donutIndex];e.donuts[e.donutIndex]=new g(e,a,e.currentShape),e.donutIndex++}},e.generateColourScheme=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t||e.random(["random","rainbow","complementary","triadic","tetradic"]),o=[],a=[];switch(n){case"complementary":a=p(e,e.random(0,e.donutHueSet[1]));break;case"triadic":a=l(e,e.random(0,e.donutHueSet[3]));break;case"tetradic":a=h(e,e.random(0,e.donutHueSet[5]));break;case"rainbow":for(var r=e.random(0,e.donutHueSet[0]),i=0;i<5;i++)a.push(r),r=r+30>360?r-330:r+30;break;default:for(var d=5;d>1;d--)a.push(e.random(0,e.donutHueSet[d]))}for(var s=0;s<5;s++)o[s]=a[s%a.length];return o},e.equilateral=function(t,n,o){var a=t-o/2,r=n+o/2,i=t,d=n-o/2,s=t+o/2,u=n+o/2;e.triangle(a,r,i,d,s,u)},e.pentagon=function(t,n,o){o/=2,e.angleMode(e.RADIANS);var a=e.TWO_PI/5;e.beginShape();for(var r=e.TWO_PI/10;r<e.TWO_PI+e.TWO_PI/10;r+=a){var i=t+e.cos(r)*o,d=n+e.sin(r)*o;e.vertex(i,d)}e.endShape(e.CLOSE)},e.hexagon=function(t,n,o){o/=2,e.angleMode(e.RADIANS);var a=e.TWO_PI/6;e.beginShape();for(var r=e.TWO_PI/12;r<e.TWO_PI+e.TWO_PI/12;r+=a){var i=t+e.cos(r)*o,d=n+e.sin(r)*o;e.vertex(i,d)}e.endShape(e.CLOSE)},e.octagon=function(t,n,o){o/=2,e.angleMode(e.RADIANS);var a=e.TWO_PI/8;e.beginShape();for(var r=e.TWO_PI/16;r<e.TWO_PI+e.TWO_PI/16;r+=a){var i=t+e.cos(r)*o,d=n+e.sin(r)*o;e.vertex(i,d)}e.endShape(e.CLOSE)},e.hasStarted=!1,e.mousePressed=function(){e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.reset(),window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play(),"undefined"===typeof window.dataLayer||e.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),e.hasStarted=!1)))},e.creditsLogged=!1,e.logCredits=function(){!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=function(){e.donutIndex=0,e.loopIndex=0;for(var t=0;t<40;t++)e.donuts[t]={};e.background(0,0,0),e.currentShape=e.donutShapeSet[e.loopIndex],e.currentColourScheme=e.donutColourSchemeSets[e.loopIndex];for(var n=0;n<5;n++)e.donuts[n]={};e.donuts[e.donutIndex]=new g(e,e.currentColourScheme[e.donutIndex],e.currentShape),e.donutIndex++,e.loopIndex++},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(o.useEffect)((function(){new s(t,e.current)}),[]),Object(d.jsx)("div",{ref:e,children:Object(d.jsx)(c,{})})};var I=function(){return Object(d.jsx)(w,{})};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(I,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.8faff610.chunk.js.map